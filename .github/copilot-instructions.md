<!-- Auto-generated guidance for AI coding agents working on the uno.js repo -->
# Copilot / AI agent quick instructions ‚Äî uno.js

Purpose: give a focused, actionable orientation so an AI coding agent can be productive immediately in this repository.

- Big picture
  - Uno.js is a mono-repo of small utility functions organized by feature folders under `lib/` (example: `lib/array/flatten.js`).
  - Each function lives in its own file and exports a single default function.
  - The generator (`generator/index.ts`) processes source files to produce:
    - Distribution files in `dist/lib/` (source + minified)
    - API JSON files in `API/` (function metadata, category summaries)
    - Markdown documentation in `documentation/`
    - HTML documentation in `docs/docs/`

- Key files and where to look
  - `generator/index.ts` ‚Äî main generator that processes `lib/`, copies to `dist/lib/`, minifies, generates API JSON, markdown docs, and HTML.
  - `generator/templates/` ‚Äî contains `function.json`, `api.json`, `function.md`, `construct.md` templates.
  - `lib/` ‚Äî source functions (one per file, ES module default exports with JSDoc).
  - `dist/lib/` ‚Äî distribution output (copies of source + `.min.js` minified versions).
  - `API/` ‚Äî JSON API files (`index.json`, `categories/<cat>.json`, `functions/<cat>/<fn>.json`).
  - `documentation/` ‚Äî generated markdown docs.
  - `docs/docs/` ‚Äî generated HTML site.
  - `website-dev/` ‚Äî Vite-based preview site; scripts: `dev`, `build`, `preview`.
  - `.github/workflows/genDoc.yaml` ‚Äî CI workflow (workflow_dispatch) that runs the generator.

- Developer workflows (concrete commands)
  - Install dependencies (uses Bun):
    ```bash
    bun install
    ```
  - Run the generator (from repo root):
    ```bash
    bun generator/index.ts
    ```
    This will:
    - Copy all `lib/**/*.js` files to `dist/lib/`
    - Generate minified `.min.js` files in `dist/lib/`
    - Create API JSON files in `API/`
    - Generate markdown docs in `documentation/`
    - Convert markdown to HTML in `docs/docs/`
  
  - Inspect JSDoc for a single file:
    ```bash
    bun x jsdoc2md --json lib/<category>/<function>.js
    ```
  
  - Preview website locally:
    ```bash
    cd website-dev
    bun install
    bun run dev
    ```

- Project-specific conventions and gotchas (do not assume defaults)
  - Source style: ES module default exports with JSDoc above the function (see `lib/array/flatten.js`).
  - JSDoc requirements: must include `@param`, `@returns`, `@example`. The generator looks for `id === 'module.exports'` in jsdoc2md JSON output.
  - Minified files: never edit `.min.js` files directly ‚Äî they are generated by `Bun.build` in the generator.
  - Distribution structure: `dist/lib/<category>/<function>.js` and `dist/lib/<category>/<function>.min.js`.
  - API JSON structure:
    - `API/index.json` ‚Äî list of categories with counts
    - `API/categories/<category>.json` ‚Äî summary of functions in a category
    - `API/functions/<category>/<function>.json` ‚Äî detailed function metadata (params, returns, examples, code, minCode)
  - Templates: located in `generator/templates/` (function.json, api.json, function.md, construct.md).

- Integration points / external dependencies
  - Runtime: Bun is required (Bun.file, Bun.build, Bun.$).
  - jsdoc-to-markdown (jsdoc2md) extracts JSDoc to JSON/markdown.
  - markdown-it converts markdown to HTML.
  - Vite + Tailwind in `website-dev/` for local site preview.

- How to make small changes safely
  1. Edit source in `lib/<category>/<function>.js` ‚Äî add JSDoc with `@param`, `@returns`, `@example`.
  2. Run `bun generator/index.ts` to regenerate everything.
  3. Verify outputs in `dist/lib/`, `API/`, `documentation/`, and `docs/docs/`.
  4. Check the generated API JSON in `API/functions/<category>/<function>.json`.

- Debugging tips for an AI agent
  - If docs are missing: run `bun x jsdoc2md --json lib/<category>/<function>.js` and verify the output has `id === 'module.exports'`.
  - If minification fails: check console output (generator shows ‚úì or ‚úó for each step).
  - If API JSON is incorrect: inspect `generator/templates/function.json` and `generator/templates/api.json` ‚Äî the generator uses string replacement for placeholders.
  - Check generator logs: uses emojis (üì¶ processing, ‚úì success, ‚úó error, üìÑ copy, ‚ö° minify, üìù docs, üåê API).

If any part of this file is unclear, say which command or file you want clarified and I will expand the guidance or add an example snippet. 
